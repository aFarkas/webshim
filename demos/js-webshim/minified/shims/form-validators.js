webshims.register("form-validators",function(e,t,n,i){"use strict";(function(){t.refreshCustomValidityRules&&t.error("form-validators already included. please remove custom-validity.js");var n,a,r={},o=!1,s=function(e){t.refreshCustomValidityRules(e.target)},l=function(){return!l.types[this.type]};l.types={hidden:1,image:1,button:1,reset:1,submit:1},t.customErrorMessages={},t.addCustomValidityRule=function(n,i,a){r[n]=i,t.customErrorMessages[n]||(t.customErrorMessages[n]=[],t.customErrorMessages[n][""]=a||n),o&&e("input, select, textarea").filter(l).each(function(){u(this)})},t.refreshCustomValidityRules=function(i){if(a){var o=e(i).data()||e.data(i,{}),s=o.customMismatchedRule,l=e.prop(i,"validity")||{},u="",c=function(a,r){n=!0,o.customMismatchedRule=a?r:"","string"!=typeof a&&(a=e(i).data("errormessage")||i.getAttribute("x-moz-errormessage")||t.customErrorMessages[r][t.activeLang()]||t.customErrorMessages[r][""]),"object"==typeof a&&(a=a[r]||a.customError||a.defaultMessage),e(i).setCustomValidity(a),n=!1};if(s||l.valid||o.dependentValidation&&!o.dependentValidation._init){var p=e(i).val();e.each(r,function(e,t){return u=t(i,p,o,c)||"",s=e,u?!1:undefined}),"async"!=u&&c(u,s)}return u}};var u=t.refreshCustomValidityRules;t.ready("forms form-validation",function(){e.propHooks.setCustomValidity={get:function(t){return n||e.data(t,"customMismatchedRule",""),null}},setTimeout(function(){t.addReady(function(t,n){a=!0,e("input, select, textarea",t).add(n.filter("input, select, textarea")).filter(l).each(function(){u(this)}),o=!0}),e(i).on("refreshCustomValidityRules",s)},9)})})(),function(){var a=t.cfg.forms,r=t.addCustomValidityRule,o=function(e){return i.getElementById(e)};r("partialPattern",function(e,t,n){return n=n.partialPattern,t&&n?!RegExp("("+n+")","i").test(t):undefined},"This format is not allowed here."),r("tooShort",function(e,t,n){return t&&n.minlength?n.minlength>t.length:undefined},"Entered value is too short.");var s={};r("group-required",function(n){var a=n.name;if(a&&"checkbox"===n.type&&e(n).hasClass("group-required")){var r=e(n.form&&n.form[a]||i.getElementsByName(a)),o=r.filter(":checked:enabled");return s[a]&&clearTimeout(s[a]),s[a]=setTimeout(function(){r.addClass("group-required").unbind("click.groupRequired").bind("click.groupRequired",function(){r.filter(".group-required").each(function(){t.refreshCustomValidityRules(this)})})},9),!o[0]}},"Please check one of these checkboxes."),r("creditcard",function(t,n){if(n&&e(t).hasClass("creditcard-input")){if(n=n.replace(/\-/g,""),n!=1*n)return!0;for(var i,a=n.length,r=0,o=1;a--;)i=parseInt(n.charAt(a),10)*o,r+=i-9*(i>9),o^=3;return!(0===r%10&&r>0)}},"Please enter a valid credit card number");var l={prop:"value","from-prop":"value",toggle:!1},u=function(t){return e(t.form[t.name]).filter('[type="radio"]')};t.ready("form-validation",function(){t.modules&&(u=t.modules["form-core"].getGroupElements||u)}),r("dependent",function(n,a,r){if(r=r.dependentValidation){var o,s=function(t){var i=e.prop(r.masterElement,r["from-prop"]);o&&(i=-1!==e.inArray(i,o)),r.toggle&&(i=!i),e.prop(n,r.prop,i),t&&e(n).getShadowElement().filter(".user-error, .user-success").trigger("refreshvalidityui")};if(!r._init||!r.masterElement){if("string"==typeof r&&(r={from:r}),r.masterElement=i.getElementById(r.from)||i.getElementsByName(r.from||[])[0],!r.masterElement||!r.masterElement.form)return;/radio|checkbox/i.test(r.masterElement.type)?(r["from-prop"]||(r["from-prop"]="checked"),r.prop||"checked"!=r["from-prop"]||(r.prop="disabled")):r["from-prop"]||(r["from-prop"]="value"),0===r["from-prop"].indexOf("value:")&&(o=r["from-prop"].replace("value:","").split("||"),r["from-prop"]="value"),r=e.data(n,"dependentValidation",e.extend({_init:!0},l,r)),"value"!==r.prop||o?e("radio"===r.masterElement.type&&u(r.masterElement)||r.masterElement).bind("change",s):e(r.masterElement).bind("change",function(){t.refreshCustomValidityRules(n),e(n).getShadowElement().filter(".user-error, .user-success").trigger("refreshvalidityui")})}return"value"!=r.prop||o?(s(),""):e.prop(r.masterElement,"value")!=a}},"The value of this field does not repeat the value of the other field"),n.JSON&&r("ajaxvalidate",function(n,i,r){if(i&&r.ajaxvalidate){var s;if(!r.remoteValidate){"string"==typeof r.ajaxvalidate?r.ajaxvalidate={url:r.ajaxvalidate,depends:e([])}:r.ajaxvalidate.depends=r.ajaxvalidate.depends?e(r.ajaxvalidate.depends).map(o):e([]),r.ajaxvalidate.depends.on("refreshCustomValidityRules",function(){t.refreshCustomValidityRules(n)}),s=r.ajaxvalidate;var l={ajaxLoading:!1,restartAjax:!1,message:"async",cache:{},update:function(t){this.ajaxLoading?this.restartAjax=t:(this.restartAjax=!1,this.ajaxLoading=!0,e.ajax(e.extend({},s,{url:s.url,dataType:"json",depData:t,data:a.fullRemoteForm||s.fullForm?e(n).jProp("form").serializeArray():t,success:this.getResponse,complete:this._complete})))},_complete:function(){l.ajaxLoading=!1,l.restartAjax&&this.update(l.restartAjax),l.restartAjax=!1},getResponse:function(i){t.refreshCustomValidityRules,i?"string"==typeof i&&(i=JSON.parse(i)):i={message:"",valid:!0},l.message="message"in i?i.message:!i.valid,l.lastMessage=l.message,l.blockUpdate=!0,e(n).triggerHandler("refreshvalidityui"),l.message="async",l.blockUpdate=!1},getData:function(){var t;return t={},t[e.prop(n,"name")||e.prop(n,"id")]=e(n).val(),s.depends.each(function(){return e(this).is(":invalid")?(t=!1,!1):(t[e.prop(this,"name")||e.prop(this,"id")]=e(this).val(),undefined)}),t},getTempMessage:function(){var e,t,n="async";if(r.remoteValidate.blockUpdate)n=l.message;else if(e=this.getData()){try{t=JSON.stringify(e)}catch(i){}t===this.lastString?n=this.ajaxLoading?"async":this.lastMessage:(this.lastString=t,this.lastMessage="async",clearTimeout(r.remoteValidate.timer),r.remoteValidate.timer=setTimeout(function(){r.remoteValidate.update(e)},9))}else n="";return n}};r.remoteValidate=l}return r.remoteValidate.getTempMessage()}},"remote error")}()});