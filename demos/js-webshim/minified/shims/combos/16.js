(function(b){if(!Modernizr.genericDOM){var g=document,m,j,n=/<([\w:]+)/,t={option:1,optgroup:1,legend:1,thead:1,tr:1,td:1,col:1,area:1};b.webshims.fixHTML5=function(b){if("string"!=typeof b||t[(n.exec(b)||["",""])[1].toLowerCase()])return b;if(!j){m=g.body;if(!m)return b;j=g.createElement("div");j.style.display="none"}var q=j.cloneNode(!1);m.appendChild(q);q.innerHTML=b;m.removeChild(q);return q.childNodes}}})(jQuery);
jQuery.webshims.register("dom-extend",function(b,g,m,j,n){var t=g.modules,o=/\s*,\s*/,q={},u={},r={},y={},k={},v=b.fn.val,x=function(f,a,c,e,l){return l?v.call(b(f)):v.call(b(f),c)};b.fn.val=function(f){var a=this[0];arguments.length&&null==f&&(f="");if(!arguments.length)return!a||1!==a.nodeType?v.call(this):b.prop(a,"value",f,"val",!0);if(b.isArray(f))return v.apply(this,arguments);var c=b.isFunction(f);return this.each(function(e){a=this;1===a.nodeType&&(c?(e=f.call(a,e,b.prop(a,"value",n,"val",
!0)),null==e&&(e=""),b.prop(a,"value",e,"val")):b.prop(a,"value",f,"val"))})};var s="_webshimsLib"+Math.round(1E3*Math.random()),d=function(f,a,c){f=f.jquery?f[0]:f;if(!f)return c||{};var e=b.data(f,s);c!==n&&(e||(e=b.data(f,s,{})),a&&(e[a]=c));return a?e&&e[a]:e};[{name:"getNativeElement",prop:"nativeElement"},{name:"getShadowElement",prop:"shadowElement"},{name:"getShadowFocusElement",prop:"shadowFocusElement"}].forEach(function(f){b.fn[f.name]=function(){return this.map(function(){var a=d(this,
"shadowData");return a&&a[f.prop]||this})}});["removeAttr","prop","attr"].forEach(function(f){q[f]=b[f];b[f]=function(a,c,e,l,d){var g="val"==l,i=!g?q[f]:x;if(!a||!u[c]||1!==a.nodeType||!g&&l&&"attr"==f&&b.attrFn[c])return i(a,c,e,l,d);var A=(a.nodeName||"").toLowerCase(),h=r[A],o="attr"==f&&(!1===e||null===e)?"removeAttr":f,p,j,m;h||(h=r["*"]);h&&(h=h[c]);h&&(p=h[o]);if(p){if("value"==c)j=p.isVal,p.isVal=g;if("removeAttr"===o)return p.value.call(a);if(e===n)return p.get?p.get.call(a):p.value;p.set&&
("attr"==f&&!0===e&&(e=c),m=p.set.call(a,e));if("value"==c)p.isVal=j}else m=i(a,c,e,l,d);if((e!==n||"removeAttr"===o)&&k[A]&&k[A][c]){var w;w="removeAttr"==o?!1:"prop"==o?!!e:!0;k[A][c].forEach(function(c){if(!c.only||(c.only="prop"==f)||"attr"==c.only&&"prop"!=f)c.call(a,e,w,g?"val":o,f)})}return m};y[f]=function(a,c,e){r[a]||(r[a]={});r[a][c]||(r[a][c]={});var l=r[a][c][f],d=function(a,b,l){return b&&b[a]?b[a]:l&&l[a]?l[a]:"prop"==f&&"value"==c?function(a){return e.isVal?x(this,c,a,!1,0===arguments.length):
q[f](this,c,a)}:"prop"==f&&"value"==a&&e.value.apply?function(a){var e=q[f](this,c);e&&e.apply&&(e=e.apply(this,arguments));return e}:function(a){return q[f](this,c,a)}};r[a][c][f]=e;if(e.value===n){if(!e.set)e.set=e.writeable?d("set",e,l):g.cfg.useStrict&&"prop"==c?function(){throw c+" is readonly on "+a;}:b.noop;if(!e.get)e.get=d("get",e,l)}["value","get","set"].forEach(function(a){e[a]&&(e["_sup"+a]=d(a,l))})}});var p=!b.browser.msie||8<parseInt(b.browser.version,10),h=function(){var b=g.getPrototypeOf(j.createElement("foobar")),
a=Object.prototype.hasOwnProperty;return function(c,e,l){var z=j.createElement(c),h=g.getPrototypeOf(z);if(p&&h&&b!==h&&(!z[e]||!a.call(z,e))){var o=z[e];l._supvalue=function(){return o&&o.apply?o.apply(this,arguments):o};h[e]=l.value}else l._supvalue=function(){var a=d(this,"propValue");return a&&a[e]&&a[e].apply?a[e].apply(this,arguments):a&&a[e]},i.extendValue(c,e,l.value);l.value._supvalue=l._supvalue}}(),i=function(){var f={};g.addReady(function(a,c){var e={},d=function(f){e[f]||(e[f]=b(a.getElementsByTagName(f)),
c[0]&&b.nodeName(c[0],f)&&(e[f]=e[f].add(c)))};b.each(f,function(a,c){d(a);!c||!c.forEach?g.warn("Error: with "+a+"-property. methods: "+c):c.forEach(function(c){e[a].each(c)})});e=null});var a,c=b([]),e=function(c,e){f[c]?f[c].push(e):f[c]=[e];b.isDOMReady&&(a||b(j.getElementsByTagName(c))).each(e)};return{createTmpCache:function(e){b.isDOMReady&&(a=a||b(j.getElementsByTagName(e)));return a||c},flushTmpCache:function(){a=null},content:function(a,c){e(a,function(){b(this).filter("["+c+"]").attr(c,
function(a,c){return c})})},createElement:function(a,c){e(a,c)},extendValue:function(a,c,f){e(a,function(){b(this).each(function(){d(this,"propValue",{})[c]=this[c];this[c]=f})})}}}(),w=function(b,a){if(b.defaultValue===n)b.defaultValue="";if(!b.removeAttr)b.removeAttr={value:function(){b[a||"prop"].set.call(this,b.defaultValue);b.removeAttr._supvalue.call(this)}}};b.extend(g,{getID:function(){var f=(new Date).getTime();return function(a){var a=b(a),c=a.attr("id");c||(f++,c="ID-"+f,a.attr("id",c));
return c}}(),extendUNDEFProp:function(f,a){b.each(a,function(a,e){a in f||(f[a]=e)})},createPropDefault:w,data:d,moveToFirstEvent:function(){var f=b._data?"_data":"data";return function(a,c,e){if((a=(b[f](a,"events")||{})[c])&&1<a.length)c=a.pop(),e||(e="bind"),"bind"==e&&a.delegateCount?a.splice(a.delegateCount,0,c):a.unshift(c)}}(),addShadowDom:function(f,a,c){c=c||{};f.jquery&&(f=f[0]);a.jquery&&(a=a[0]);if(!c.shadowFocusElement)c.shadowFocusElement=a;var e=b.data(f,s)||b.data(f,s,{}),l=b.data(a,
s)||b.data(a,s,{});e.hasShadow=a;l.nativeElement=f;l.shadowData=e.shadowData={nativeElement:f,shadowElement:a,shadowFocusElement:c.shadowFocusElement};c.shadowChilds&&c.shadowChilds.each(function(){d(this,"shadowData",l.shadowData)});if(c.data)e.shadowData.data=c.data,l.shadowData.data=c.data;c=null},propTypes:{standard:function(b){w(b);if(!b.prop)b.prop={set:function(a){b.attr.set.call(this,""+a)},get:function(){return b.attr.get.call(this)||b.defaultValue}}},"boolean":function(b){w(b);if(!b.prop)b.prop=
{set:function(a){a?b.attr.set.call(this,""):b.removeAttr.value.call(this)},get:function(){return null!=b.attr.get.call(this)}}}},reflectProperties:function(f,a){"string"==typeof a&&(a=a.split(o));a.forEach(function(a){g.defineNodeNamesProperty(f,a,{prop:{set:function(e){b.attr(this,a,e)},get:function(){return b.attr(this,a)||""}}})})},defineNodeNameProperty:function(f,a,c){u[a]=!0;if(c.reflect)g.propTypes[c.propType||"standard"](c);["prop","attr","removeAttr"].forEach(function(e){var l=c[e];l&&(l=
"prop"===e?b.extend({writeable:!0},l):b.extend({},l,{writeable:!0}),y[e](f,a,l),"*"!=f&&g.cfg.extendNative&&"prop"==e&&l.value&&b.isFunction(l.value)&&h(f,a,l),c[e]=l)});c.initAttr&&i.content(f,a);return c},defineNodeNameProperties:function(b,a,c,e){for(var l in a)!e&&a[l].initAttr&&i.createTmpCache(b),c&&(a[l][c]?g.log("override: "+b+"["+l+"] for "+c):(a[l][c]={},["value","set","get"].forEach(function(b){b in a[l]&&(a[l][c][b]=a[l][b],delete a[l][b])}))),a[l]=g.defineNodeNameProperty(b,l,a[l]);e||
i.flushTmpCache();return a},createElement:function(f,a,c){var e;b.isFunction(a)&&(a={after:a});i.createTmpCache(f);a.before&&i.createElement(f,a.before);c&&(e=g.defineNodeNameProperties(f,c,!1,!0));a.after&&i.createElement(f,a.after);i.flushTmpCache();return e},onNodeNamesPropertyModify:function(f,a,c,e){"string"==typeof f&&(f=f.split(o));b.isFunction(c)&&(c={set:c});f.forEach(function(b){k[b]||(k[b]={});"string"==typeof a&&(a=a.split(o));c.initAttr&&i.createTmpCache(b);a.forEach(function(a){k[b][a]||
(k[b][a]=[],u[a]=!0);if(c.set){if(e)c.set.only=e;k[b][a].push(c.set)}c.initAttr&&i.content(b,a)});i.flushTmpCache()})},defineNodeNamesBooleanProperty:function(f,a,c){c||(c={});if(b.isFunction(c))c.set=c;g.defineNodeNamesProperty(f,a,{attr:{set:function(b){this.setAttribute(a,b);c.set&&c.set.call(this,!0)},get:function(){return null==this.getAttribute(a)?n:a}},removeAttr:{value:function(){this.removeAttribute(a);c.set&&c.set.call(this,!1)}},reflect:!0,propType:"boolean",initAttr:c.initAttr||!1})},
contentAttr:function(b,a,c){if(b.nodeName){if(c===n)return c=(b.attributes[a]||{}).value,null==c?n:c;"boolean"==typeof c?c?b.setAttribute(a,a):b.removeAttribute(a):b.setAttribute(a,c)}},activeLang:function(){var f=[],a={},c,e,d=/:\/\/|^\.*\//,h=function(a,c,e){return c&&e&&-1!==b.inArray(c,e.availabeLangs||[])?(a.loading=!0,e=e.langSrc,d.test(e)||(e=g.cfg.basePath+e),g.loader.loadScript(e+c+".js",function(){a.langObj[c]?(a.loading=!1,o(a,!0)):b(function(){a.langObj[c]&&o(a,!0);a.loading=!1})}),!0):
!1},i=function(c){a[c]&&a[c].forEach(function(a){a.callback()})},o=function(a,b){if(a.activeLang!=c&&a.activeLang!==e){var f=t[a.module].options;if(a.langObj[c]||e&&a.langObj[e])a.activeLang=c,a.callback(a.langObj[c]||a.langObj[e],c),i(a.module);else if(!b&&!h(a,c,f)&&!h(a,e,f)&&a.langObj[""]&&""!==a.activeLang)a.activeLang="",a.callback(a.langObj[""],c),i(a.module)}};return function(d){if("string"==typeof d&&d!==c)c=d,e=c.split("-")[0],c==e&&(e=!1),b.each(f,function(a,c){o(c)});else if("object"==
typeof d)if(d.register)a[d.register]||(a[d.register]=[]),a[d.register].push(d),d.callback();else{if(!d.activeLang)d.activeLang="";f.push(d);o(d)}return c}}()});b.each({defineNodeNamesProperty:"defineNodeNameProperty",defineNodeNamesProperties:"defineNodeNameProperties",createElements:"createElement"},function(b,a){g[b]=function(c,b,d,f){"string"==typeof c&&(c=c.split(o));var h={};c.forEach(function(c){h[c]=g[a](c,b,d,f)});return h}});g.isReady("webshimLocalization",!0)});
(function(b,g){var m=b.webshims.browserVersion;if(!(b.browser.mozilla&&5<m)&&(!b.browser.msie||12>m&&7<m)){var j={article:"article",aside:"complementary",section:"region",nav:"navigation",address:"contentinfo"},n=function(b,g){b.getAttribute("role")||b.setAttribute("role",g)};b.webshims.addReady(function(m,o){b.each(j,function(g,q){for(var j=b(g,m).add(o.filter(g)),r=0,s=j.length;r<s;r++)n(j[r],q)});if(m===g){var q=g.getElementsByTagName("header")[0],u=g.getElementsByTagName("footer"),r=u.length;
q&&!b(q).closest("section, article")[0]&&n(q,"banner");r&&(q=u[r-1],b(q).closest("section, article")[0]||n(q,"contentinfo"))}})}})(jQuery,document);
(function(b,g,m){var j=g.audio&&g.video,n=!1;if(j){var t=document.createElement("video");g.videoBuffered="buffered"in t;n="loop"in t;m.capturingEvents("play,playing,waiting,paused,ended,durationchange,loadedmetadata,canplay,volumechange".split(","));g.videoBuffered||(m.addPolyfill("mediaelement-native-fix",{f:"mediaelement",test:g.videoBuffered,dependencies:["dom-support"]}),m.reTest("mediaelement-native-fix"))}b.webshims.ready("dom-support swfobject",function(b,g,m,r,t){var k=g.mediaelement,v=g.cfg.mediaelement,
x=function(a,c){var a=b(a),e={src:a.attr("src")||"",elem:a,srcProp:a.prop("src")};if(!e.src)return e;var d=a.attr("type");if(d)e.type=d,e.container=b.trim(d.split(";")[0]);else if(c||(c=a[0].nodeName.toLowerCase(),"source"==c&&(c=(a.closest("video, audio")[0]||{nodeName:"video"}).nodeName.toLowerCase())),d=k.getTypeForSrc(e.src,c))e.type=d,e.container=d,g.warn("you should always provide a proper mime-type using the source element. "+e.src+" detected as: "+d),b.nodeName(a[0],"source")&&a.attr("type",
d);if(d=a.attr("media"))e.media=d;return e},s=swfobject.hasFlashPlayerVersion("9.0.115"),d=function(){g.ready("mediaelement-swf",function(){if(!k.createSWF)g.modules["mediaelement-swf"].test=b.noop,g.reTest(["mediaelement-swf"],j)})};k.mimeTypes={audio:{"audio/ogg":["ogg","oga","ogm"],"audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":"mp4,mpg4,m4r,m4a,m4p,m4b,aac".split(","),"audio/wav":["wav"],"audio/3gpp":["3gp","3gpp"],"audio/webm":["webm"],"audio/fla":["flv","f4a","fla"],"application/x-mpegURL":["m3u8",
"m3u"]},video:{"video/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"],"video/webm":["webm"],"application/x-mpegURL":["m3u8","m3u"],"video/MP2T":["ts"]}};k.mimeTypes.source=b.extend({},k.mimeTypes.audio,k.mimeTypes.video);k.getTypeForSrc=function(a,c){if(-1!=a.indexOf("youtube.com/watch?"))return"video/youtube";var a=
a.split("?")[0].split("."),a=a[a.length-1],e;b.each(k.mimeTypes[c],function(c,b){if(-1!==b.indexOf(a))return e=c,!1});return e};k.srces=function(a,c){a=b(a);if(c)a.removeAttr("src").removeAttr("type").find("source").remove(),b.isArray(c)||(c=[c]),c.forEach(function(c){var b=r.createElement("source");"string"==typeof c&&(c={src:c});b.setAttribute("src",c.src);c.type&&b.setAttribute("type",c.type);c.media&&b.setAttribute("media",c.media);a.append(b)});else{var c=[],e=a[0].nodeName.toLowerCase(),d=x(a,
e);d.src?c.push(d):b("source",a).each(function(){d=x(this,e);d.src&&c.push(d)});return c}};b.fn.loadMediaSrc=function(a,c){return this.each(function(){c!==t&&(b(this).removeAttr("poster"),c&&b.attr(this,"poster",c));k.srces(this,a);b(this).mediaLoad()})};k.swfMimeTypes="video/3gpp,video/x-msvideo,video/quicktime,video/x-m4v,video/mp4,video/m4p,video/x-flv,video/flv,audio/mpeg,audio/aac,audio/mp4,audio/x-m4a,audio/m4a,audio/mp3,audio/x-fla,audio/fla,youtube/flv,jwplayer/jwplayer,video/youtube".split(",");
k.canSwfPlaySrces=function(a,c){var e="";s&&(a=b(a),c=c||k.srces(a),b.each(c,function(a,c){if(c.container&&c.src&&-1!=k.swfMimeTypes.indexOf(c.container))return e=c,!1}));return e};var p={};k.canNativePlaySrces=function(a,c){var e="";if(j){var a=b(a),d=(a[0].nodeName||"").toLowerCase();if(!p[d])return e;c=c||k.srces(a);b.each(c,function(c,b){if(b.type&&p[d].prop._supvalue.call(a[0],b.type))return e=b,!1})}return e};k.setError=function(a,c){c||(c="can't play sources");b(a).pause().data("mediaerror",
c);g.warn("mediaelementError: "+c);setTimeout(function(){b(a).data("mediaerror")&&b(a).trigger("mediaerror")},1)};var h=function(){var a;return function(c,b,f){g.ready("mediaelement-swf",function(){k.createSWF?k.createSWF(c,b,f):a||(a=!0,d(),h(c,b,f))})}}(),i=function(a,c,b,d,f){b||!1!==b&&c&&"flash"==c.isActive?(b=k.canSwfPlaySrces(a,d))?h(a,b,c):f?k.setError(a,!1):i(a,c,!1,d,!0):(b=k.canNativePlaySrces(a,d))?c&&"flash"==c.isActive&&k.setActive(a,"html5",c):f?(k.setError(a,!1),c&&"flash"==c.isActive&&
k.setActive(a,"html5",c)):i(a,c,!0,d,!0)},w=/^(?:embed|object)$/i,f=function(a,c){var e=g.data(a,"mediaelementBase")||g.data(a,"mediaelementBase",{}),d=k.srces(a),f=a.parentNode;clearTimeout(e.loadTimer);b.data(a,"mediaerror",!1);if(d.length&&f&&!w.test(f.nodeName||""))c=c||g.data(a,"mediaelement"),i(a,c,v.preferFlash||t,d)};b(r).bind("ended",function(a){var c=g.data(a.target,"mediaelement");(!n||c&&"html5"!=c.isActive||b.prop(a.target,"loop"))&&setTimeout(function(){!b.prop(a.target,"paused")&&b.prop(a.target,
"loop")&&b(a.target).prop("currentTime",0).play()},1)});n||g.defineNodeNamesBooleanProperty(["audio","video"],"loop");["audio","video"].forEach(function(a){var c=g.defineNodeNameProperty(a,"load",{prop:{value:function(){var a=g.data(this,"mediaelement");f(this,a);j&&(!a||"html5"==a.isActive)&&c.prop._supvalue&&c.prop._supvalue.apply(this,arguments)}}});p[a]=g.defineNodeNameProperty(a,"canPlayType",{prop:{value:function(c){var d="";j&&p[a].prop._supvalue&&(d=p[a].prop._supvalue.call(this,c),"no"==
d&&(d=""));!d&&s&&(c=b.trim((c||"").split(";")[0]),-1!=k.swfMimeTypes.indexOf(c)&&(d="maybe"));return d}}})});g.onNodeNamesPropertyModify(["audio","video"],["src","poster"],{set:function(){var a=this,c=g.data(a,"mediaelementBase")||g.data(a,"mediaelementBase",{});clearTimeout(c.loadTimer);c.loadTimer=setTimeout(function(){f(a);a=null},9)}});j&&g.isReady("mediaelement-core",!0);g.addReady(function(a,c){b("video, audio",a).add(c.filter("video, audio")).each(function(){b.browser.msie&&8<g.browserVersion&&
b.prop(this,"paused")&&!b.prop(this,"readyState")&&b(this).is('audio[preload="none"][controls]:not([autoplay])')?b(this).prop("preload","metadata").mediaLoad():f(this);if(j){var a,c,d=this,h=function(){var a=b.prop(d,"buffered");if(a){for(var c="",e=0,f=a.length;e<f;e++)c+=a.end(e);return c}},i=function(){var a=h();a!=c&&(c=a,b(d).triggerHandler("progress"))};b(this).bind("play loadstart progress",function(b){"progress"==b.type&&(c=h());clearTimeout(a);a=setTimeout(i,999)}).bind("emptied stalled mediaerror abort suspend",
function(b){"emptied"==b.type&&(c=!1);clearTimeout(a)})}})});j?s&&g.ready("WINDOWLOAD",d):g.isReady("mediaelement-core",!0)})})(jQuery,Modernizr,jQuery.webshims);jQuery.webshims.gcEval=function(b,g){with(g&&g.form||window)with(g||window)return function(b){eval(b)}.call(g||window,b)};
(function(b){var g=window.Modernizr,m=b.webshims;if(g.formvalidation){var j=b('<form action="#"><select /><input type="date" required name="a" /></form>'),n=b("input",j);g.validationmessage=!0;if(window.opera){j.appendTo("head");m.bugs.validationMessage=!n.prop("validationMessage");try{n.prop("valueAsNumber",0)}catch(t){}m.bugs.valueAsNumberSet="1970-01-01"!=n.prop("value");j.remove()}g.requiredSelect=!!("required"in b("select",j)[0]);if(!("bugfreeformvalidation"in g))g.bugfreeformvalidation=g.formvalidation&&
g.requiredSelect&&!m.bugs.valueAsNumberSet&&!m.bugs.validationMessage&&(!b.browser.webkit||-1!=navigator.userAgent.indexOf("hrome")&&534.19<m.browserVersion)&&!window.testGoodWithFix;if(!g.bugfreeformvalidation)m.addPolyfill("form-native-fix",{f:"forms",dependencies:["form-extend"]}),m.modules["form-extend"].test=b.noop;m.reTest(["form-extend","form-message","form-native-fix"]);m.isReady("form-number-date-api")&&m.reTest("form-number-date-api")}})(jQuery);
jQuery.webshims.register("form-core",function(b,g,m,j,n,t){var o={radio:1},q={checkbox:1,radio:1},u=b([]),r=function(d){var d=b(d),g=d[0].name;return o[d[0].type]&&g?b(d[0].form&&d[0].form[g]||j.getElementsByName(g)).not(d[0]):u},y=g.getContentValidationMessage=function(d,p){var h=d.getAttribute("x-moz-errormessage")||d.getAttribute("data-errormessage")||"";if(h&&-1!=h.indexOf("{")){try{h=jQuery.parseJSON(h)}catch(i){return h}"object"==typeof h&&(p=p||b.prop(d,"validity")||{valid:1},p.valid||b.each(p,
function(b,d){if(d&&"valid"!=b&&h[b])return h=h[b],!1}));g.data(d,"contentErrorMessage",h);if("object"==typeof h)h=h.defaultMessage}return h||""},k={number:1,range:1,date:1,time:1,"datetime-local":1,datetime:1,month:1,week:1};b.extend(b.expr.filters,{"valid-element":function(d){return!(!b.prop(d,"willValidate")||!(b.prop(d,"validity")||{valid:1}).valid)},"invalid-element":function(d){return!(!b.prop(d,"willValidate")||(b.prop(d,"validity")||{valid:1}).valid)},"required-element":function(d){return!(!b.prop(d,
"willValidate")||!b.prop(d,"required"))},"optional-element":function(d){return!!(b.prop(d,"willValidate")&&!1===b.prop(d,"required"))},"in-range":function(d){if(!k[b.prop(d,"type")]||!b.prop(d,"willValidate"))return!1;d=b.prop(d,"validity");return!(!d||d.rangeOverflow||d.rangeUnderflow)},"out-of-range":function(d){if(!k[b.prop(d,"type")]||!b.prop(d,"willValidate"))return!1;d=b.prop(d,"validity");return!(!d||!d.rangeOverflow&&!d.rangeUnderflow)}});["valid","invalid","required","optional"].forEach(function(d){b.expr.filters[d]=
b.expr.filters[d+"-element"]});var v=b.prop,x={selectedIndex:1,value:1,checked:1,disabled:1,readonly:1};b.prop=function(d,g,h){var i=v.apply(this,arguments);if(d&&"form"in d&&x[g]&&h!==n&&b(d).hasClass("form-ui-invalid")&&(b.prop(d,"validity")||{valid:1}).valid)b(d).getShadowElement().removeClass("form-ui-invalid"),"checked"==g&&h&&r(d).removeClass("form-ui-invalid").removeAttr("aria-invalid");return i};var s=function(d,g){var h;b.each(d,function(d,j){if(j)return h="customError"==d?b.prop(g,"validationMessage"):
d,!1});return h};b(j).bind("focusout change refreshvalidityui",function(d){if(d.target&&"submit"!=d.target.type&&b.prop(d.target,"willValidate")){var g=b.data(d.target,"webshimsswitchvalidityclass");g&&clearTimeout(g);b.data(d.target,"webshimsswitchvalidityclass",setTimeout(function(){var g=b(d.target).getNativeElement()[0],i=b.prop(g,"validity"),j=b(g).getShadowElement(),f,a,c,e;i.valid?j.hasClass("form-ui-valid")||(f="form-ui-valid",a="form-ui-invalid",e="changedvaliditystate",c="changedvalid",
q[g.type]&&g.checked&&r(g).removeClass(a).addClass(f).removeAttr("aria-invalid"),b.removeData(g,"webshimsinvalidcause")):(i=s(i,g),b.data(g,"webshimsinvalidcause")!=i&&(b.data(g,"webshimsinvalidcause",i),e="changedvaliditystate"),j.hasClass("form-ui-invalid")||(f="form-ui-invalid",a="form-ui-valid",q[g.type]&&!g.checked&&r(g).removeClass(a).addClass(f),c="changedinvalid"));f&&(j.addClass(f).removeClass(a),setTimeout(function(){b(g).trigger(c)},0));e&&setTimeout(function(){b(g).trigger(e)},0);b.removeData(d.target,
"webshimsswitchvalidityclass")},9))}});g.triggerInlineForm=function(d,j){d.jquery&&(d=d[0]);var h="on"+j,i=d[h]||d.getAttribute(h)||"",k,f,j=b.Event({type:j,target:d,currentTarget:d});i&&"string"==typeof i&&(f=g.gcEval(i,d),g.warn("we will drop inline event handler support, with next release. use event binding: $.bind instead"),d[h]&&(k=!0,d[h]=!1));!1===f&&(j.stopPropagation(),j.preventDefault());b(d).trigger(j);k&&(d[h]=i);return f};m=function(){g.scrollRoot=b.browser.webkit||"BackCompat"==j.compatMode?
b(j.body):b(j.documentElement)};m();g.ready("DOM",m);g.validityAlert=function(){var d=!b.browser.msie||7<parseInt(b.browser.version,10)?"span":"label",k={top:0,left:0},h={hideDelay:5E3,getBodyOffset:function(){k=i.offset()},showFor:function(c,d,f,g){h._create();var c=b(c),j=b(c).getShadowElement(),k=h.getOffsetFromBody(j);h.clear();g?this.hide():(this.getMessage(c,d),this.position(j,k),i.css({fontSize:c.css("fontSize"),fontFamily:c.css("fontFamily")}),this.show(),this.hideDelay&&(m=setTimeout(a,this.hideDelay)));
f||this.setFocus(j,k)},getOffsetFromBody:function(a){a=b(a).offset();b.swap(i[0],{visibility:"hidden",display:"inline-block",left:0,top:0},h.getBodyOffset);a.top-=k.top;a.left-=k.left;return a},setFocus:function(c,e){var f=b(c).getShadowFocusElement(),h=g.scrollRoot.scrollTop(),k=(e||f.offset()).top-30,m;g.getID&&"label"==d&&i.attr("for",g.getID(f));h>k&&(g.scrollRoot.animate({scrollTop:k-5},{queue:!1,duration:Math.max(Math.min(600,1.5*(h-k)),80)}),m=!0);try{f[0].focus()}catch(p){}m&&(g.scrollRoot.scrollTop(h),
setTimeout(function(){g.scrollRoot.scrollTop(h)},0));setTimeout(function(){b(j).bind("focusout.validityalert",a)},10)},getMessage:function(a,d){b("span.va-box",i).text(d||y(a[0])||a.prop("validationMessage"))},position:function(a,d){d=d?b.extend({},d):h.getOffsetFromBody(a);d.top+=a.outerHeight();i.css(d)},show:function(){"none"===i.css("display")&&i.css({opacity:0}).show();i.addClass("va-visible").fadeTo(400,1)},hide:function(){i.removeClass("va-visible").fadeOut()},clear:function(){clearTimeout(f);
clearTimeout(m);b(j).unbind("focusout.validityalert");i.stop().removeAttr("for")},_create:function(){if(!i)i=h.errorBubble=b("<"+d+' class="validity-alert-wrapper" role="alert"><span  class="validity-alert"><span class="va-arrow"><span class="va-arrow-box"></span></span><span class="va-box"></span></span></'+d+">").css({position:"absolute",display:"none"}),g.ready("DOM",function(){i.appendTo("body");b.fn.bgIframe&&b.browser.msie&&7>parseInt(b.browser.version,10)&&i.bgIframe()})}},i,m=!1,f=!1,a=b.proxy(h,
"hide");return h}();(function(){var d,g=[],h;b(j).bind("invalid",function(i){if(!i.wrongWebkitInvalid){var k=b(i.target),f=k.getShadowElement();f.hasClass("form-ui-invalid")||(f.addClass("form-ui-invalid").removeClass("form-ui-valid"),setTimeout(function(){b(i.target).trigger("changedinvalid").trigger("changedvaliditystate")},0));if(!d)d=b.Event("firstinvalid"),d.isInvalidUIPrevented=i.isDefaultPrevented,f=b.Event("firstinvalidsystem"),b(j).triggerHandler(f,{element:i.target,form:i.target.form,isInvalidUIPrevented:i.isDefaultPrevented}),
k.trigger(d);d&&d.isDefaultPrevented()&&i.preventDefault();g.push(i.target);i.extraData="fix";clearTimeout(h);h=setTimeout(function(){var a={type:"lastinvalid",cancelable:!1,invalidlist:b(g)};d=!1;g=[];b(i.target).trigger(a,a)},9);f=k=null}})})();t.replaceValidationUI&&g.ready("DOM",function(){b(j).bind("firstinvalid",function(d){d.isInvalidUIPrevented()||(d.preventDefault(),b.webshims.validityAlert.showFor(d.target,b(d.target).prop("customValidationMessage")))})})});
