jQuery.webshims.register("form-extend",function(c,g,A,p,u,j){if(Modernizr.formvalidation){var k=g.inputTypes,v={};g.addInputType=function(a,d){k[a]=d};g.addValidityRule=function(a,d){v[a]=d};g.addValidityRule("typeMismatch",function(a,d,b,f){if(d==="")return false;f=f.typeMismatch;if(!("type"in b))b.type=(a[0].getAttribute("type")||"").toLowerCase();if(k[b.type]&&k[b.type].mismatch)f=k[b.type].mismatch(d,a);return f});var i=j.overrideMessages,q=!Modernizr.requiredSelect||!Modernizr.input.valueAsDate||
i||!Modernizr.inputtypes.date||!Modernizr.inputtypes.number||!Modernizr.inputtypes.time||!Modernizr.inputtypes.range,B=["customError","typeMismatch","rangeUnderflow","rangeOverflow","stepMismatch","tooLong","patternMismatch","valueMissing","valid"],C=c.attr,w=c.fn.val,r=i?{value:1,checked:1}:{value:1};j=i?["textarea"]:[];var D={radio:1,checkbox:1},l=function(a,d){if(a.form){var b=(a.getAttribute&&a.getAttribute("type")||a.type||"").toLowerCase();if(!i)if(!(!Modernizr.requiredSelect&&b=="select-one")&&
!k[b])return;i&&!d&&D[b]&&a.name?c(p.getElementsByName(a.name)).each(function(){c.attr(this,"validity")}):c.attr(a,"validity")}},m={};["input","textarea","select"].forEach(function(a){var d=g.defineNodeNameProperty(a,"setCustomValidity",{value:function(b){b+="";d._supvalue.call(this,b);Modernizr.validationmessage||c.data(this,"customvalidationMessage",b);if(q){c.data(this,"hasCustomError",!!b);l(this)}}});m[a]=d._supvalue});if(!A.noHTMLExtFixes&&!Modernizr.requiredSelect||i){c.extend(r,{required:1,
size:1,multiple:1,selectedIndex:1});j.push("select")}if(q||i){c.extend(r,{min:1,max:1,step:1});j.push("input")}if(q){j.forEach(function(a){var d=g.defineNodeNameProperty(a,"validity",{get:function(){var b=this,f=d._supget.call(this);if(!f)return f;var e={};B.forEach(function(h){e[h]=f[h]});if(!c.attr(b,"willValidate"))return e;var n=c(b),s={type:(b.getAttribute&&b.getAttribute("type")||"").toLowerCase(),nodeName:(b.nodeName||"").toLowerCase()},E=w.call(n),x=!!c.data(b,"hasCustomError"),t;e.customError=
x;if(e.valid&&e.customError)e.valid=false;else if(!e.valid){var y=true;c.each(e,function(h,o){if(o)return y=false});if(y)e.valid=true}c.each(v,function(h,o){e[h]=o(n,E,s,e);if(e[h]&&(e.valid||!t)){m[a].call(b,g.createValidationMessage(b,h));e.valid=false;t=true}});if(e.valid){m[a].call(b,"");c.data(b,"hasCustomError",false)}else i&&!t&&!x&&c.each(e,function(h,o){if(h!=="valid"&&o){m[a].call(b,g.createValidationMessage(b,h));return false}});return e},set:c.noop})});c.fn.val=function(a){var d=w.apply(this,
arguments);a!==u&&this.each(function(){l(this)});return d};c.attr=function(a,d,b){var f=C.apply(this,arguments);r[d]&&b!==u&&a.form&&l(a);return f};if(p.addEventListener){p.addEventListener("change",function(a){l(a.target)},true);Modernizr.input.valueAsNumber||p.addEventListener("input",function(a){l(a.target)},true)}var z=j.join(",");g.addReady(function(a,d){c(z,a).add(d.filter(z)).each(function(){c.attr(this,"validity")})});i&&g.ready("DOM",function(){var a;c(document).bind("webshimLocalizationReady",
function(){var d=g.activeLang()[0];if(a!=d){a=d;c("input, select, textarea").each(function(){if(!c.data(this,"hasCustomError")){var b=this,f=c.attr(b,"validity"),e;if(!f.valid){e=(b.nodeName||"").toLowerCase();c.each(f,function(n,s){if(n!=="valid"&&s){m[e].call(b,g.createValidationMessage(b,n));return false}})}}})}})})}}});
