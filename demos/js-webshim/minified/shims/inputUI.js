jQuery.webshims.ready("number-date-type",function(c,i){c.support.inputUI="shim";var j=c.webshims.modules.inputUI.options,g=function(d){c("input",d).each(function(){var b=c.attr(this,"type");g[b]&&!c.data(this,"inputUIReplace")&&g[b](c(this))})};g.common=function(d,b,a){c.support.validity===true&&d.bind("firstinvalid",function(h){setTimeout(function(){c.data(h.target,"maybePreventedinvalid")||i.validityAlert.showFor(h.target)},30)});var e=d.attr("id");e={css:{marginRight:d.css("marginRight"),marginLeft:d.css("marginLeft")},
outerWidth:d.getouterWidth(),label:e?c("label[for="+e+"]",d[0].form):c([])};var f=i.getID(e.label);b.addClass(d[0].className).data("html5element",d);d.after(b).data("inputUIReplace",{visual:b,methods:a}).hide();if(b.length==1&&!c("*",b)[0]){b.attr("aria-labeledby",f);e.label.bind("click",function(){b.focus();return false})}return e};g["datetime-local"]=function(d){if(c.fn.datepicker){var b=c('<span class="input-datetime-local"><input type="text" class="input-datetime-local-date" /><input type="time" class="input-datetime-local-time" /></span>'),
a=this.common(d,b,g["datetime-local"].attrs),e=c("input.input-datetime-local-date",b);c("input",b).data("html5element",c.data(b[0],"html5element"));e.attr("aria-labeledby",a.label.attr("id"));a.label.bind("click",function(){e.focus();return false});if(a.css){b.css(a.css);if(a.outerWidth){b.outerWidth(a.outerWidth);a=b.getwidth();e.css({marginLeft:0,marginRight:2}).outerWidth(Math.floor(a*0.61));c("input.input-datetime-local-time").css({marginLeft:2,marginRight:0}).outerWidth(Math.floor(a*0.37))}}i.triggerDomUpdate(b);
c("input.input-datetime-local-date",b).datepicker(c.extend({},j.datepicker)).bind("change",function(){var f,h=c("input.input-datetime-local-time",b).attr("value");try{f=(f=c.datepicker.parseDate(e.datepicker("option","dateFormat"),e.attr("value")))?c.datepicker.formatDate("yy-mm-dd",f):e.attr("value")}catch(k){f=e.attr("value")}if(!c("input.input-datetime-local-time",b).attr("value")){h="00:00";c("input.input-datetime-local-time",b).attr("value",h)}g["datetime-local"].blockAttr=true;d.attr("value",
f+"T"+h);g["datetime-local"].blockAttr=false;d.trigger("change")}).data("datepicker").dpDiv.addClass("input-date-datepicker-control");c("input.input-datetime-local-time",b).bind("input change",function(){var f=d.attr("value").split("T");if(f.length<2||!f[0])f[0]=c.datepicker.formatDate("yy-mm-dd",new Date);f[1]=c.attr(this,"value");g["datetime-local"].blockAttr=true;try{e.attr("value",c.datepicker.formatDate(e.datepicker("option","dateFormat"),c.datepicker.parseDate("yy-mm-dd",f[0])))}catch(h){}d.attr("value",
f.join("T"));g["datetime-local"].blockAttr=false;d.trigger("change")});c.each(["disabled","min","max","value"],function(f,h){d.attr(h,function(k,l){return l||""})})}};g["datetime-local"].attrs={disabled:function(d,b,a){c("input.input-datetime-local-date",b).datepicker("option","disabled",!!a);c("input.input-datetime-local-time",b).attr("disabled",!!a)},min:function(d,b,a){a=a.split?a.split("T"):[];try{a=c.datepicker.parseDate("yy-mm-dd",a[0])}catch(e){a=false}a&&c("input.input-datetime-local-date",
b).datepicker("option","minDate",a)},max:function(d,b,a){a=a.split?a.split("T"):[];try{a=c.datepicker.parseDate("yy-mm-dd",a[0])}catch(e){a=false}a&&c("input.input-datetime-local-date",b).datepicker("option","maxDate",a)},value:function(d,b,a){if(!g["datetime-local"].blockAttr){var e;a=a.split?a.split("T"):[];try{e=c.datepicker.parseDate("yy-mm-dd",a[0])}catch(f){e=false}if(e){c("input.input-datetime-local-date",b).datepicker("setDate",e);c("input.input-datetime-local-time",b).attr("value",a[1]||
"00:00")}else{c("input.input-datetime-local-date",b).attr("value",a[0]||"");c("input.input-datetime-local-time",b).attr("value",a[1]||"")}}}};g.date=function(d){if(c.fn.datepicker){var b=c('<input type="text" class="input-date" />'),a=this.common(d,b,g.date.attrs);if(a.css){b.css(a.css);a.outerWidth&&b.outerWidth(a.outerWidth)}b.datepicker(c.extend({},j.datepicker)).bind("change",function(){g.date.blockAttr=true;var e;try{e=(e=c.datepicker.parseDate(b.datepicker("option","dateFormat"),b.attr("value")))?
c.datepicker.formatDate("yy-mm-dd",e):b.attr("value")}catch(f){e=b.attr("value")}d.attr("value",e);g.date.blockAttr=false;d.trigger("change")}).data("datepicker").dpDiv.addClass("input-date-datepicker-control");c.each(["disabled","min","max","value"],function(e,f){d.attr(f,function(h,k){return k||""})})}};g.date.attrs={disabled:function(d,b,a){b.datepicker("option","disabled",!!a)},min:function(d,b,a){try{a=c.datepicker.parseDate("yy-mm-dd",a)}catch(e){a=false}a&&b.datepicker("option","minDate",a)},
max:function(d,b,a){try{a=c.datepicker.parseDate("yy-mm-dd",a)}catch(e){a=false}a&&b.datepicker("option","maxDate",a)},value:function(d,b,a){if(!g.date.blockAttr){try{var e=c.datepicker.parseDate("yy-mm-dd",a)}catch(f){e=false}e?b.datepicker("setDate",e):b.attr("value",a)}}};g.range=function(d){if(c.fn.slider){var b=c('<span class="input-range"><span class="ui-slider-handle" role="slider" tabindex="0" /></span>'),a=this.common(d,b,g.range.attrs),e=function(f,h){if(f.originalEvent){g.range.blockAttr=
true;d.attr("value",h.value);g.range.blockAttr=false;f.type=="slidechange"?d.trigger("change"):i.triggerInlineForm(d[0],"input")}};c("span",b).attr("aria-labeledby",a.label.attr("id"));a.label.bind("click",function(){c("span",b).focus();return false});if(a.css){b.css(a.css);a.outerWidth&&b.outerWidth(a.outerWidth)}b.slider(c.extend(j.slider,{change:e,slide:e}));c.each(["disabled","min","max","value","step"],function(f,h){d.attr(h,function(k,l){return l||""})})}};g.range.attrs={disabled:function(d,
b,a){a=!!a;b.slider("option","disabled",a);c("span",b).attr({"aria-disabled":a+"",tabindex:a?"-1":"0"})},min:function(d,b,a){a=a?a*1||0:0;b.slider("option","min",a);c("span",b).attr({"aria-valuemin":a})},max:function(d,b,a){a=a||a===0?a*1||100:100;b.slider("option","max",a);c("span",b).attr({"aria-valuemax":a})},value:function(d,b,a){a=c(d).attr("valueAsNumber");if(isNaN(a)){a=(b.slider("option","max")-b.slider("option","min"))/2;d.value=a}g.range.blockAttr||b.slider("option","value",a);c("span",
b).attr({"aria-valuenow":a,"aria-valuetext":a})},step:function(d,b,a){a=a&&c.trim(a)?a*1||1:1;b.slider("option","step",a)}};c.each(["disabled","min","max","value","step"],function(d,b){i.attr(b,{elementNames:["input"],setter:function(a,e,f){var h=c.data(a,"inputUIReplace");f();h&&h.methods[b]&&h.methods[b](a,h.visual,e)},getter:true})});var m=function(d){if(d){d=c.extend({},d,j.date);c("input.hasDatepicker").filter(".input-date, .input-datetime-local-date").datepicker("option",d).each(function(){var b=
c.data(this,"html5element");b&&c.each(["disabled","min","max","value"],function(a,e){b.attr(e,function(f,h){return h||""})})});c.datepicker.setDefaults(d)}};c(document).bind("jquery-uiReady.langchange input-widgetsReady.langchange",function(){c.datepicker&&c(document).bind("htmlExtLangChange",function(){i.activeLang(c.datepicker.regional,"inputUI",m)}).unbind("jquery-uiReady.langchange input-widgetsReady.langchange")});i.addReady(function(d){c(document).bind("jquery-uiReady.initinputui input-widgetsReady.initinputui",
function(){if(c.datepicker||c.fn.slider){g(d);c.datepicker&&c.fn.slider&&c(document).unbind("jquery-uiReady.initinputui input-widgetsReady.initinputui")}})});i.createReadyEvent("inputUI")},true);
