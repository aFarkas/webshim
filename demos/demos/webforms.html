<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta charset="utf-8"/>
	<link href="../css/styles.css" rel="stylesheet" />
	
	<style>
		
		fieldset div {
			overflow: hidden;
			zoom: 1;
			padding: 5px;
			border: 1px solid #000;
			margin: 5px 0;
		}
		.form-ui-invalid {
			border-color: #800;
		}
		.form-ui-valid {
			border-color: #080;
		}
		span.form-ui-invalid {
			-moz-box-shadow: 1px 1px 1px #800;
			box-shadow: 1px 1px 1px #800;
		}
		span.form-ui-valid {
			-moz-box-shadow: 1px 1px 1px #080;
			box-shadow: 1px 1px 1px #080;
		}
		
	</style>
	
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
	<script src="../js-webshim/minified/extras/modernizr-1.6.min.js"></script>
	<script src="../js-webshim/minified/extras/mousepress.js"></script>
	<script src="../js-webshim/minified/polyfiller.js"></script>
	<!--
		<script src="../../src/polyfiller.js"></script> 
		<script>
			$.webshims.debug = true;
		</script>
	-->
	
    <script class="example">
		//path is path of polyfiller.js + shims/
    	$.webshims.loader.basePath += 'shims/';
		//load all defined modules (look into features.js)
		//or load only a specific feature with $.webshims.polyfill('feature-name');
		$.webshims.polyfill();
        
    </script>
	<script src="../demo-js/demo.js"></script>
	<title>HTML5 form/Web Forms 2.0 widgets and constraint validation API : webshims lib - the polyfilling capability based loading JS libary</title>
	    
</head>

<body>
	<section id="wrapper"> 
		<header>
			<hgroup>
				<h1>Webshims Lib</h1>
				<h2>Polyfill only the uncapable browsers</h2>
			</hgroup>
		</header>
		<nav>
			<ul>
				<li><a href="shiv.html">HTML5 shiv and innerShiv</a></li>
				<li><a href="es5.html">ES5/JavaScript 1.8.5</a></li>
				<li><strong>constraint validation and input widgets</strong></li>
				<li><a href="canvas.html">canvas</a></li>
				<li><a href="json-storage.html">storage and JSON</a></li>
				<li><a href="geolocation.html">geolocation API</a></li>
			</ul>
		</nav>
		<section>
			<h2>Demo/About/Documentation of HTML5 constraint validation API</h2>
			<p>The <code>forms</code> (constraint validation without number, date etc.) and <code>forms-ext</code> (number, date, range etc.) features of the webshim lib are implementing support for the <a href="http://www.w3.org/TR/html5/association-of-controls-and-forms.html#the-constraint-validation-api">constraint validation API</a>, some input widgets and the placeholder-Attribut.</p>
			<section>
				<h3>Implemented/fixed elements, attributes, properties, methods, events</h3>
				<ul>
					<li><strong>elements:</strong> <a href="http://www.w3.org/TR/html5/the-button-element.html#the-output-element">output</a></li>
					<li><strong>types</strong>: <a href="http://www.w3.org/TR/html5/states-of-the-type-attribute.html#e-mail-state">email</a>, <a href="http://www.w3.org/TR/html5/states-of-the-type-attribute.html#url-state">url</a>, <a href="http://www.w3.org/TR/html5/states-of-the-type-attribute.html#local-date-and-time-state">datetime-local</a>, <a href="http://www.w3.org/TR/html5/states-of-the-type-attribute.html#date-state">date</a>, <a href="http://www.w3.org/TR/html5/states-of-the-type-attribute.html#time-state">time</a>, <a href="http://www.w3.org/TR/html5/number-state.html#number-state">number</a>, <a href="http://www.w3.org/TR/html5/number-state.html#range-state">range</a></li>
					<li><strong>attributes (and IDL, if existing)</strong>: <a href="http://www.w3.org/TR/html5/common-input-element-attributes.html#attr-input-placeholder">placeholder</a>, <a href="http://www.w3.org/TR/html5/association-of-controls-and-forms.html#attr-fe-autofocus">autofocus</a>, <a href="http://www.w3.org/TR/html5/association-of-controls-and-forms.html#attr-fs-novalidate">novalidate</a>, <a href="http://www.w3.org/TR/html5/association-of-controls-and-forms.html#attr-fs-formnovalidate">formnovalidate</a> (currently only save on input[type=submit|button], not on button), <a href="http://www.w3.org/TR/html5/common-input-element-attributes.html#attr-input-required">required</a>, <a href="http://www.w3.org/TR/html5/common-input-element-attributes.html#attr-input-pattern">pattern</a>, <a href="http://www.w3.org/TR/html5/the-button-element.html#attr-textarea-maxlength">maxlength</a>, <a href="http://www.w3.org/TR/html5/common-input-element-attributes.html#attr-input-step">step</a>, <a href="http://www.w3.org/TR/html5/common-input-element-attributes.html#attr-input-max">max</a>, <a href="http://www.w3.org/TR/html5/common-input-element-attributes.html#attr-input-min">min</a></li>
					<li><strong>properties/IDLs</strong>: <a href="http://www.w3.org/TR/html5/association-of-controls-and-forms.html#dom-cva-willvalidate">willValidate</a>, <a href="http://www.w3.org/TR/html5/association-of-controls-and-forms.html#dom-cva-validity">validity</a>, <a href="http://www.w3.org/TR/html5/association-of-controls-and-forms.html#dom-cva-validationmessage">validationMessage</a>, <a href="http://www.w3.org/TR/html5/common-input-element-attributes.html#dom-input-valueasnumber">valueAsNumber</a>, <a href="http://www.w3.org/TR/html5/common-input-element-attributes.html#dom-input-valueasdate">valueAsDate</a></li>
					<li><strong>methods</strong>: <a href="http://www.w3.org/TR/html5/association-of-controls-and-forms.html#dom-cva-setcustomvalidity">setCustomValidity</a>, <a href="http://www.w3.org/TR/html5/forms.html#dom-form-checkvalidity">checkValidity</a></li>
					<li><strong>events</strong>: <a href="http://www.w3.org/TR/html5/association-of-controls-and-forms.html#constraint-validation">invalid</a>, <a href="http://www.w3.org/TR/html5/common-input-element-attributes.html#event-input-input">input</a></li>
				</ul>
				
				<h3>Extensions/Abstractions to the standard</h3>
				<ul>
					<li><strong>event: firstinvalid</strong>: <code>firstinvalid</code> is a simple, bubbling event, wich is triggered on the first invalid form element. Preventing the default of firstinvalid will automatically prevent the default behavior of all current invalid elements.</li>
					<li><strong>event: lastinvalid</strong>: <code>lastinvalid</code> is an extended, bubbling, (but) uncancelable event, wich is triggered on the last invalid form element. The property <code>invalidlist</code> is a jQuery-collection of all current invalid elements.</li>
					<li><strong>selectors for CSS/JS: .form-ui-valid/.form-ui-invalid</strong>: wich work similiar to -moz-ui-valid/-moz-ui-invalid</li>
					<li><strong>selectors for JS</strong>: :invalid-element, :valid-element</li>
					<li><strong>property: customValidationMessage</strong>: very similiar to the standard validationMessage, but always uses built-in custom validation messages, wich can be better controlled. <strong>Note: You have to either set $.webshims.implement.customValidationMessage to true or $.webshims.overrideValidationMessages to true, before calling the <code>polyfill</code> method, to get this new property.</strong></li>
					<li><strong>helper: $.webshims.validityAlert.showFor</strong>: takes a DOM-Object/Selector/jQuery-Object and shows the invalid message for this element. (simply look into the prototype i.e. <code>console.log($.webshims.validityAlert)</code> to make changes)</li>
				</ul>
				<h3>How to (Customized Demos):</h3>
				<ul>
					<li><a href="webforms/1-webforms-lang-custom-bubble.html">add/change custom validation messages (i18n) and style custom validation bubbles</a></li>
					<li><a href="webforms/3-webforms-widgets.html">configure and style input-widgets (datepicker, range)</a></li>
					<li><a href="webforms/2-webforms-api.html">playing with the constraint validation api and new properties</a></li>
				</ul>
				<!--
				<h3>Informations about Bulletproffness/Futureproffness</h3>
				<p>Webshims lib implements the properties, events and methods above as accurate as possible according to the current state of the HTML5 specification and also fixed bugs in current browser implementation.</p>
				<p><strong>The bad news:</strong> There is one missing feature in current webkit implementations - so called "interactive form validation", wich we can't really feature detect. To enable this feature we make some assumption on top of some related informations: the prevented state of the invalid-event, the focusing behavior, implemented other form features. It is likely, that our workaround is futureproof enough, but there is also the possibility, that it is not. What does this mean: If our workaround fails, the browser would show his invalid bubble and webshim lib would also show the invalid bubble shim. But the form validation and form submission will still work properly.</p>
				<p><strong>The good news: </strong></p>
				-->
			</section>
			<section>
				<h3>Simple Demo</h3>
				<form action="#" method="post">
	               
	                <p class="required"><span>*</span> Required fields</p>
	                <fieldset>
	                    
	                    <div class="form-element">
	                        <label for="email">
	                            E-Mail: <dfn title="required">*</dfn>
							</label>
	                       	<input name="email" required="required" type="email" id="email" />
	                    </div>
						<div class="form-element">
	                        <label for="number">
	                            number: <dfn title="required">*</dfn>
							</label>
	                       	<input name="number" required="required" type="number" id="number" />
	                    </div>
						
						<div class="form-element">
	                        <label for="range">
	                            range:
							</label>
	                       	<input name="range" type="range" id="range" />
	                    </div>
						
						<div class="form-element">
	                        <label for="range2">
	                            range + output:
							</label>
	                       	<input oninput="$(output).attr( 'value', this.value )" name="range2" type="range" id="range2" />
							<output id="output"></output>
	                    </div>
						
						<div class="form-element">
	                        <label for="time">
	                            time: 
							</label>
	                       	<input name="time" type="time" id="time" />
	                    </div>
	                    <div class="form-element">
	                        <label for="date">
	                            date: <dfn title="required">*</dfn>
							</label>
	                       	<input value="2010-12-31" name="date" required="required" type="date" id="date" />
	                    </div>
						
						<div class="form-element">
	                        <label for="datetime-local">
	                            datetime-local: 
							</label>
	                       	<input value="2010-12-31T23:59" name="datetime-local" type="datetime-local" id="datetime-local" />
	                    </div>
						
						<div class="form-element">
	                        <label for="password">
	                            password: 
							</label>
	                       	<input placeholder="password" name="password" type="password" id="password" />
	                    </div>
						
						<div class="form-element">
			                <label for="textarea">
			                    textarea: *
							</label>
			               	<textarea placeholder="hello this is a textbox" required="required" name="textarea" id="textarea"></textarea>
			            </div>
						
						<div class="form-element">
			                <label for="select">
			                    select: *
							</label>
			               	<select required="required" name="select" id="select">
			               		<option value="">Please choose</option>
								<option>Option 1</option>
								<option>Option 2</option>
								<option>Option 3</option>
			               	</select>
			            </div>
						
						<div class="form-element">
	                        <label for="number2">
	                            number + number = output:
							</label>
	                       	<input oninput="$(output2).attr( 'value', ($(this).attr('valueAsNumber') || 0) + ($(number3).attr('valueAsNumber') || 0) )" step="0.5" name="number2" type="number" id="number2" />
							<input oninput="$(output2).attr( 'value', ($(this).attr('valueAsNumber') || 0) + ($(number2).attr('valueAsNumber') || 0) )" name="number3" step="any" type="number" />
							<output id="output2"></output>
	                    </div>
						
						
	                    <div>
	                    	<h4>Radio-Group Headline Short Labels  <dfn title="required">*</dfn></h4>
	                    	<fieldset class="mod">
	                    		<legend>Legend Short Labels  <dfn title="required">*</dfn></legend>
	                            <div class="form-item">
	                                <input type="radio" id="field6-1" name="radio-grp1-1" required />
									<label for="field6-1">
	                                    Radiooption 2
	                                </label>
								</div>
								<div class="form-item">
	                                <input type="radio" id="field7-1" name="radio-grp1-1" />
	                               	<label for="field7-1"> 
										Radiooption 2
	                            	</label>
								</div>
								<div class="form-item">
	                                <input type="radio" id="field8-1" name="radio-grp1-1" />
									<label for="field8-1">
	                                	Radiooption 3
	                            	</label>
								</div>
	                        </fieldset>
	                    </div>
	                    
	                    <div class="button-wrapper">
	                    	<input type="submit" value="Send" />
	                    </div>
	                </fieldset>
	            </form>
				<h2>Compare native against jQueryfied + polyfilled example</h2>
				<h3>pure native ES5 and HTML5 forms example (currently only works in FF4)</h3>
				<iframe style="width: 99.5%; height: 410px" src="http://jsfiddle.net/trixta/ucVXN/embedded/result,js,html,css/"></iframe>
				<h3>polyfilled + jQueryfied HTML5 webforms + ES5</h3>
				<iframe style="width: 99.5%; height: 410px" src="http://jsfiddle.net/trixta/L4NDp/embedded/result,js,html,css/"></iframe>
				<h3>polyfilled + jQueryfied + some helpers HTML5 webforms + ES5</h3>
				<iframe style="width: 99.5%; height: 410px" src="http://jsfiddle.net/trixta/qTV3g/embedded/result,js,html,css/"></iframe>
			</section>
			
			
			<aside>
				<h3>Links about Webforms</h3>
				<ul>
					<li><a href="https://developer.mozilla.org/en/HTML/HTML5/Forms_in_HTML5">Forms in HTML5 (by MDC)</a></li>
					<li><a href="http://diveintohtml5.org/forms.html">A Form of Madness (Dive Into HTML5)</a></li>
					<li><a href="http://hacks.mozilla.org/2010/11/firefox-4-html5-forms/">Firefox 4: HTML5 Forms (Mozilla Hacks)</a></li>
					<li><a href="http://dev.opera.com/articles/view/improve-your-forms-using-html5/">Improve your forms using HTML5! by Anne van Kesteren</a></li>
					<li><a href="http://www.alistapart.com/articles/forward-thinking-form-validation/">Forward Thinking Form Validation by Ryan Seddon</a></li>
				</ul>
			</aside>		
	</section>
				
		<small>
			Note: every shim is a hack! working with native cutting edge technology is also a hack!
		</small>
    </section> 
	
</body>
</html>   
