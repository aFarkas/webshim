<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta charset="utf-8"/>
	<link href="../../css/styles.css" rel="stylesheet" />
	
	<style>
		
		fieldset div {
			overflow: hidden;
			zoom: 1;
			padding: 5px;
			border: 1px solid #000;
			margin: 5px 0;
		}
		
	</style>
	
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
	<script src="../../js-webshim/minified/html-ext.js"></script>
	<script src="../../js-webshim/minified/features.js"></script>
	
    <script class="example">
    	
		//path is path of html-ext.js + shims/
    	$.webshims.loader.basePath += 'shims/';
		//load all defined modules (look into features.js)
		//or load only a specific feature with $.webshims.polyfill('feature-name');
		$.webshims.polyfill();
        
    </script>
	<script src="../../demo-js/demo.js"></script>
	<title>HTML5 form/Web Forms 2.0 widgets and constraint validation API : webshims lib - the polyfilling capability based JS libary</title>
	    
</head>

<body>
	<section id="wrapper"> 
		<header>
			<hgroup>
				<h1>Webshims Lib</h1>
				<h2>Polyfill only the uncapable browsers</h2>
			</hgroup>
			<nav>
				<ul>
					<li><a href="../shiv.html">HTML5 shiv and innerShiv</a></li>
					<li><a href="../webforms.html">constraint validation and input widgets</a></li>
					<li><a href="../canvas.html">canvas</a></li>
					<li><a href="../json-storage.html">storage and JSON</a></li>
					<li><a href="../geolocation.html">geolocation API</a></li>
				</ul>
			</nav>
		</header>
		<section>
			<h2>Documentation adding/changing validation messages with webshims constraint validation</h2>
			<p>Webshims Lib validation messages are stored @ <code>$.webshims.validityMessages</code> as an object. The index is the specific language code. Currently there are only validation messages for "en" and "de".</p>
			<p>Webshims Lib automatically shows the validation message in the detected language of the your browser. If the script doesn't find the right language, it will show the default language wich is stored under the key "".</p>
			<p>You can easily add/change a language by specifiying a certain language code.</p>
<code class="block run-once">
$.webshims.validityMessages['en'] = {
	typeMismatch: {
		email: 'changed {%value} is not a legal email address',
		url: 'changed {%value} is not a valid web address',
		number: 'changed {%value} is not a number!',
		date: 'changed {%value} is not a date',
		time: 'changed {%value} is not a time',
		range: 'changed {%value} is not a number!',
		"datetime-local": 'changed {%value} is not a correct date-time format.'
	},
	rangeUnderflow: 'changed {%value} is too low. The lowest value you can use is {%min}.',
	rangeOverflow: 'changed {%value} is too high. The highest value you can use is {%max}.',
	stepMismatch: 'changed The value {%value} is not allowed for this form. Only certain values are allowed for this field. {%title}',
	tooLong: 'changed The entered text is too large! You used {%valueLen} letters and the limit is {%maxlength}.',
	
	patternMismatch: 'changed {%value} is not in the format this page requires! {%title}',
	valueMissing: 'changed You have to specify a value'
};
</code>
			<p>There are several placeholders, wich you can use in your validation message: <code>{%label}</code> (the text of a label[for]), <code>{%value}</code>, <code>{%title}</code>, <code>{%min}</code>, <code>{%max}</code>, <code>{%maxlength}</code>, and <code>{%valueLen}</code> </p>
			
			<p>It is also possible to add more fine grained messages by providing an error message for a specific type. I.E. The follwoing code changes the validation message for a rangeUnderflow in case of the date-type. But will show a defaultMessage in any other type.</p>
<code class="block run-once">
	//extend the english
	$.webshims.validityMessages['en'].rangeUnderflow = {
		date: '{%value} is too early for {%label}. The earliest date you can use is {%max}.',
		defaultMessage: $.webshims.validityMessages['en'].rangeUnderflow
	};
	
	//extend the german
	$.webshims.validityMessages['de'].rangeUnderflow = {
		date: '{%value} ist zu früh für {%label}. Das früheste Datum, dass Sie wählen können ist {%max}.',
		defaultMessage: $.webshims.validityMessages['de'].rangeUnderflow
	};
</code>
			
			<p>Note: These configurations will change the validation messages accessed by the DOM-property <code>validationMessage</code> and occuring on an invalid event in uncapable browsers. If you additionally want to use them in constraint validation supporting browsers, have a look into the <a href="2-webforms-custom-lang.html">custom validation messages and customizable invalid bubbles demo</a>.</p>
			<section>
				<h3>Simple Demo</h3>
				<form action="#" method="post">
	            	<p>buttons after &lt;hr /&gt; do log to console (open Firebug and reload)</p>
	               
	                <p class="required"><span>*</span> Required fields</p>
	                <fieldset>
	                    <div class="form-element">
	                        <label for="name">
	                            name:
							</label>
	                        <input placeholder="hello world" name="name" type="text" value="" id="name" />
	                    </div>
	                    <div class="form-element">
	                        <label for="email">
	                            E-Mail:
							</label>
	                       	<input name="email" type="email" id="email" />
	                    </div>
						
	                    <div class="form-element">
	                        <label for="date">
	                            date:
							</label>
							 (min="2010-12-10") <dfn title="required">*</dfn>
	                       	<input min="2010-12-10" name="date" required="required" type="date" id="date" />
	                    </div>
						
						<div class="form-element">
	                        <label for="datetime-local">
	                            datetime-local: 
							</label>
	                       	<input value="2010-12-31T23:59" name="datetime-local" type="datetime-local" id="datetime-local" />
	                    </div>
												
	                    <div class="form-element">
	                        <label for="number">
	                            number:
							</label>
							(min="3") <dfn title="required">*</dfn>
	                       	<input min="3" name="number" required="required" type="number" id="number" />
	                    </div>
	                   
						
						<div class="form-element">
	                        <label for="time">
	                            time: 
							</label>
	                       	<input name="time" type="time" id="time" />
	                    </div>
						
						
						<div class="form-element">
	                        <label for="password">
	                            password: 
							</label>
	                       	<input placeholder="password" name="password" type="password" id="password" />
	                    </div>
						
	                    <div>
	                    	<h4>Radio-Group Headline Short Labels  <dfn title="required">*</dfn></h4>
	                    	<fieldset class="mod">
	                    		<legend>Legend Short Labels  <dfn title="required">*</dfn></legend>
	                            <div class="form-item">
	                                <input type="radio" id="field6-1" name="radio-grp1-1" required />
									<label for="field6-1">
	                                    Radiooption 2
	                                </label>
								</div>
								<div class="form-item">
	                                <input type="radio" id="field7-1" name="radio-grp1-1" />
	                               	<label for="field7-1"> 
										Radiooption 2
	                            	</label>
								</div>
								<div class="form-item">
	                                <input type="radio" id="field8-1" name="radio-grp1-1" />
									<label for="field8-1">
	                                	Radiooption 3
	                            	</label>
								</div>
	                        </fieldset>
	                    </div>
	                    
	                    <div class="button-wrapper">
	                    	<input type="submit" value="Send" />
	                    </div>
	                </fieldset>
	            </form>
			</section>
	</section>
				
		<small>
			Note: every shim is a hack! working with native cutting edge technology is also a hack!
		</small>
    </section> 
	
</body>
</html>   
